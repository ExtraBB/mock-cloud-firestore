{%- assign default_paths = site.pages | map: "path" -%}
{%- assign page_paths = site.header_pages | default: default_paths -%}
{%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}

{%- if titles_size > 0 -%}
  <nav class="bar bar--small bar--scrollable">
    {%- for path in page_paths -%}
      {%- assign my_page = site.pages | where: "path", path | first -%}
      {%- if my_page.title -%}
        <a class="link-button" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
      {%- endif -%}
    {%- endfor -%}
  </nav>
{%- endif -%}

<div class="nav-bar bar bar--small {% if titles_size == 0 %}nav-bar--no-pages{% endif %}">
  <button class="icon-button" id="nav-bar__drawer-button">
    <i class="icon fas fa-bars"></i>
  </button>

  <h2 class="bar__heading">
    {%- if page.layout == 'doc' -%}
      {{ page.category | default: page.title }}
    {%- else -%}
      Recent posts
    {%- endif -%}
  </h2>

  <button class="icon-button" id="nav-bar__toc-button">
    <i class="icon fas fa-ellipsis-v"></i>
  </button>
</div>
